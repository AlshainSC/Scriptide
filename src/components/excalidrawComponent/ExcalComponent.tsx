import "./ExcalComponent.css";
import { Excalidraw } from "@excalidraw/excalidraw";
import { useScriptideContext } from "../../contexts/ScriptideProvider";
import { Flex } from "amazon-chime-sdk-component-library-react";
import { centerScrollOn } from "@excalidraw/excalidraw/types/scene/scroll";


function ExcalComponent() {
  const { excalActive, transitionState, opacity, setExcalState, excalState } =
    useScriptideContext();
 const {elements} = excalApp()
  return (
    <>
      <div className="hider-container">
        <div
          className={`hider ${transitionState ? "open" : "closed"} ${
            opacity ? "opaque" : "transparent"
          }`}
        ></div>
      </div>
      <div className={excalActive ? "excal-open" : "excal-closed"}>
        <div className="excalibox">
          <Excalidraw
            initialData={{
              elements,
              // "appState": { "zenModeEnabled": true, "viewBackgroundColor": "#AFEEEE" }
            }}
            onChange={(elements, appState, files) => {
              setExcalState(elements);
              console.log('elements', JSON.stringify(elements));
              console.log('appState', JSON.stringify(appState));
            }}
          />
        </div>
      </div>
    </>
  );
}

export default ExcalComponent;
function excalApp (){
  return {
    appState: {"theme":"light","collaborators":{},"currentChartType":"bar","currentItemBackgroundColor":"transparent","currentItemEndArrowhead":"arrow","currentItemFillStyle":"hachure","currentItemFontFamily":1,"currentItemFontSize":20,"currentItemLinearStrokeSharpness":"round","currentItemOpacity":100,"currentItemRoughness":1,"currentItemStartArrowhead":null,"currentItemStrokeColor":"#000000","currentItemStrokeSharpness":"sharp","currentItemStrokeStyle":"solid","currentItemStrokeWidth":1,"currentItemTextAlign":"left","cursorButton":"up","draggingElement":null,"editingElement":null,"editingGroupId":null,"editingLinearElement":null,"activeTool":{"type":"freedraw","customType":null,"locked":false,"lastActiveToolBeforeEraser":null},"penMode":false,"penDetected":false,"errorMessage":null,"exportBackground":true,"exportScale":1,"exportEmbedScene":false,"exportWithDarkMode":false,"fileHandle":null,"gridSize":null,"isBindingEnabled":true,"isSidebarDocked":false,"isLoading":false,"isResizing":false,"isRotating":false,"lastPointerDownWith":"mouse","multiElement":null,"name":"Untitled-2022-12-05-1627","openMenu":null,"openPopup":null,"openSidebar":null,"pasteDialog":{"shown":false,"data":null},"previousSelectedElementIds":{"ne3ryFmGDB8u9SePq96Vs":true,"WQYsaYOfWcXREnqi0qKen":true},"resizingElement":null,"scrolledOutside":false,"scrollX":0,"scrollY":0,"selectedElementIds":{"cQoFJF0NxWQ4tnjbZatHJ":false},"selectedGroupIds":{},"selectionElement":null,"shouldCacheIgnoreZoom":false,"showHelpDialog":false,"showStats":false,"startBoundElement":null,"suggestedBindings":[],"toast":null,"viewBackgroundColor":"#ffffff","zenModeEnabled":false,"zoom":{"value":1},"viewModeEnabled":false,"pendingImageElementId":null,"showHyperlinkPopup":false,"selectedLinearElement":null,"offsetLeft":190,"offsetTop":143.90625,"width":1520,"height":863.4375},
    elements : [{"id":"LejNpNmwmjdHCrqWj-zNv","type":"ellipse","x":672.353515625,"y":194.2724609375,"width":219.4384765625,"height":215.2099609375,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":353683134,"version":18,"versionNonce":671533602,"isDeleted":false,"boundElements":null,"updated":1670254049224,"link":null,"locked":false},{"id":"WN_owegEKavQIRDTjvvjW","type":"rectangle","x":734.404296875,"y":229.2236328125,"width":13.4912109375,"height":62.16796875,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":1480319230,"version":14,"versionNonce":1859642466,"isDeleted":false,"boundElements":null,"updated":1670254052145,"link":null,"locked":false},{"type":"rectangle","version":52,"versionNonce":1778735102,"isDeleted":false,"id":"ne3ryFmGDB8u9SePq96Vs","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":801.83544921875,"y":230.701171875,"strokeColor":"#000000","backgroundColor":"transparent","width":13.4912109375,"height":62.16796875,"seed":1135379198,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1670254061765,"link":null,"locked":false},{"id":"y9LWdW5iPptGLqCekEHEX","type":"freedraw","x":712.3046875,"y":306.298828125,"width":127.6904296875,"height":76.26953125,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":630894306,"version":44,"versionNonce":1633486206,"isDeleted":false,"boundElements":null,"updated":1670254066764,"link":null,"locked":false,"points":[[0,0],[0.576171875,0.5810546875],[1.9580078125,2.431640625],[8.5791015625,9.53125],[16.71875,17.216796875],[28.61328125,27.5732421875],[37.265625,34.3212890625],[44.716796875,40.3662109375],[50.7470703125,44.70703125],[56.181640625,48.916015625],[60.869140625,51.669921875],[64.9609375,53.9013671875],[66.6357421875,53.9013671875],[67.919921875,53.9013671875],[69.58984375,53.544921875],[73.80859375,50.849609375],[79.0234375,48.0859375],[83.251953125,45.810546875],[86.5625,43.6376953125],[91.962890625,40.546875],[97.1826171875,38.134765625],[101.8701171875,35.791015625],[106.806640625,32.7734375],[109.86328125,30.8544921875],[112.7099609375,28.3642578125],[115.9521484375,24.697265625],[118.0908203125,22.55859375],[120.5859375,19.3505859375],[122.2998046875,16.5673828125],[123.3349609375,14.8193359375],[124.658203125,13.1396484375],[126.3720703125,10.3564453125],[127.0166015625,8.9990234375],[127.3388671875,6.0791015625],[127.6904296875,1.1474609375],[127.6904296875,-3.0810546875],[127.6904296875,-7.7685546875],[127.6904296875,-11.9970703125],[127.6904296875,-15.3076171875],[127.6904296875,-18.6181640625],[126.6064453125,-21.4013671875],[126.279296875,-22.3681640625],[126.279296875,-22.3681640625]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[126.279296875,-22.3681640625]},{"id":"W9LDL8_uRanzWd8x8M80Z","type":"freedraw","x":839.9609375,"y":312.34375,"width":44.3505859375,"height":34.0625,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":855546210,"version":35,"versionNonce":2029623586,"isDeleted":false,"boundElements":null,"updated":1670254069244,"link":null,"locked":false,"points":[[0,0],[-0.2978515625,0],[0.2783203125,0],[1.4501953125,0],[3.7548828125,0],[11.8408203125,1.85546875],[16.142578125,4.1845703125],[17.822265625,5.52734375],[18.14453125,6.5087890625],[19.462890625,8.5302734375],[21.240234375,11.396484375],[22.6318359375,13.876953125],[23.33984375,16.34765625],[23.33984375,18.828125],[23.33984375,21.6845703125],[22.978515625,24.5556640625],[20.8251953125,27.0654296875],[16.7822265625,30.3271484375],[12.998046875,32.1923828125],[9.21875,33.701171875],[5.8935546875,34.0625],[1.6455078125,34.0625],[-2.6025390625,34.0625],[-6.3916015625,33.7060546875],[-10.8984375,31.85546875],[-13.046875,30.4345703125],[-16.630859375,28.6572265625],[-18.7158203125,27.626953125],[-20.078125,26.9482421875],[-20.68359375,26.3525390625],[-20.68359375,25.771484375],[-21.0107421875,25.771484375],[-21.0107421875,24.521484375],[-21.0107421875,24.521484375]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[-21.0107421875,24.521484375]},{"id":"MJRnTJmeXLHlyGlHq44vI","type":"freedraw","x":834.638671875,"y":323.3349609375,"width":13.6962890625,"height":6.3330078125,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":1608614398,"version":14,"versionNonce":47813474,"isDeleted":false,"boundElements":null,"updated":1670254070779,"link":null,"locked":false,"points":[[0,0],[0.2880859375,0],[0.6103515625,0],[1.962890625,0],[2.91015625,0.634765625],[4.1943359375,1.2841796875],[5.8740234375,2.265625],[8.3349609375,3.3154296875],[11.1181640625,4.7265625],[12.4072265625,5.7080078125],[13.6962890625,6.03515625],[13.6962890625,6.3330078125],[13.6962890625,6.3330078125]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[13.6962890625,6.3330078125]},{"id":"6NWtz0GuGilqhEnSowGGw","type":"freedraw","x":725.8447265625,"y":224.1162109375,"width":35.83984375,"height":9.0478515625,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":1606765502,"version":16,"versionNonce":761696610,"isDeleted":false,"boundElements":null,"updated":1670254072788,"link":null,"locked":false,"points":[[0,0],[0.2880859375,0],[1.0009765625,0],[3.876953125,0.3955078125],[8.7109375,2.2607421875],[13.4326171875,3.7890625],[18.1103515625,5.361328125],[22.3388671875,6.9091796875],[26.5673828125,7.666015625],[30.3369140625,8.0615234375],[33.9697265625,8.4228515625],[35.2587890625,8.75],[35.5517578125,9.0478515625],[35.83984375,9.0478515625],[35.83984375,9.0478515625]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[35.83984375,9.0478515625]},{"id":"cQoFJF0NxWQ4tnjbZatHJ","type":"freedraw","x":798.1396484375,"y":232.8466796875,"width":23.2763671875,"height":9.6142578125,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":789523902,"version":15,"versionNonce":1593683838,"isDeleted":false,"boundElements":null,"updated":1670254074773,"link":null,"locked":false,"points":[[0,0],[0.5810546875,0],[1.2939453125,0],[6.4013671875,-0.4248046875],[10.703125,-1.630859375],[14.716796875,-3.4375],[16.85546875,-4.5068359375],[18.5302734375,-5.5029296875],[19.794921875,-6.4453125],[21.07421875,-7.724609375],[22.36328125,-9.013671875],[22.666015625,-9.6142578125],[23.2763671875,-9.6142578125],[23.2763671875,-9.6142578125]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[23.2763671875,-9.6142578125]}]
  }
}